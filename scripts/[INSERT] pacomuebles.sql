-- phpMyAdmin SQL Dump
-- version 3.4.4
-- http://www.phpmyadmin.net
--
-- Servidor: mysql.webcindario.com
-- Tiempo de generación: 21-06-2021 a las 21:28:23
-- Versión del servidor: 5.6.39
-- Versión de PHP: 5.6.40-25+0~20200224.31+debian9~1.gbp0b752b

SET SQL_MODE="NO_AUTO_VALUE_ON_ZERO";
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;

--
-- Base de datos: `pacomuebles`
--

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `FACTURAS`
--

CREATE TABLE IF NOT EXISTS `FACTURAS` (
  `ID_FACTURA` varchar(5) COLLATE utf8_bin NOT NULL,
  `ID_PEDIDO` varchar(5) COLLATE utf8_bin NOT NULL,
  `FECHA_EMISION` date NOT NULL,
  `IMPORTE_TOTAL` float NOT NULL,
  PRIMARY KEY (`ID_FACTURA`,`ID_PEDIDO`),
  UNIQUE KEY `ID_FACTURA_UNIQUE` (`ID_FACTURA`),
  KEY `fk_FACTURAS_PRODUCTOS_has_PEDIDOS1_idx` (`ID_PEDIDO`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_bin;

--
-- Volcado de datos para la tabla `FACTURAS`
--

INSERT INTO `FACTURAS` (`ID_FACTURA`, `ID_PEDIDO`, `FECHA_EMISION`, `IMPORTE_TOTAL`) VALUES
('00001', '00001', '2021-05-07', 32500.6),
('00002', '00002', '2021-06-13', 15475.9),
('00003', '00003', '2021-05-11', 4368.1),
('00004', '00004', '2021-06-13', 7677.45),
('00005', '00005', '2021-04-30', 10260.8);

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `PEDIDOS`
--

CREATE TABLE IF NOT EXISTS `PEDIDOS` (
  `ID_PEDIDO` varchar(5) COLLATE utf8_bin NOT NULL,
  `ID_PROVEEDOR` varchar(5) COLLATE utf8_bin NOT NULL,
  `ID_TIENDA` varchar(5) COLLATE utf8_bin NOT NULL,
  `NOMBRE_PROVEEDOR` varchar(100) COLLATE utf8_bin NOT NULL,
  `NOMBRE_TIENDA` varchar(100) COLLATE utf8_bin NOT NULL,
  `FECHA_PEDIDO` date NOT NULL,
  `FECHA_ENTREGA` date DEFAULT NULL,
  `OBSERVACIONES` varchar(200) COLLATE utf8_bin DEFAULT NULL,
  `ESTADO` tinyint(4) NOT NULL,
  PRIMARY KEY (`ID_PEDIDO`,`ID_PROVEEDOR`,`ID_TIENDA`),
  UNIQUE KEY `ID_PEDIDO_UNIQUE` (`ID_PEDIDO`),
  KEY `fk_PEDIDOS_PROVEEDORES1_idx` (`ID_PROVEEDOR`),
  KEY `fk_PEDIDOS_TIENDAS1_idx` (`ID_TIENDA`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_bin;

--
-- Volcado de datos para la tabla `PEDIDOS`
--

INSERT INTO `PEDIDOS` (`ID_PEDIDO`, `ID_PROVEEDOR`, `ID_TIENDA`, `NOMBRE_PROVEEDOR`, `NOMBRE_TIENDA`, `FECHA_PEDIDO`, `FECHA_ENTREGA`, `OBSERVACIONES`, `ESTADO`) VALUES
('00001', '02008', '02006', 'ANTONIO PINO E HIJOS SL', 'PACO MUEBLES ALBACETE', '2021-05-07', NULL, 'Entrega estimada para el 13 de junio. ', 0),
('00002', '24010', '02006', 'LEON CARPINTEROS ', 'PACO MUEBLES ALBACETE', '2021-04-27', '2021-06-13', 'Entrega estimada para 13 de junio', 1),
('00003', '30540', '08003', 'PORTAL MADERA ESP', 'PACO MUEBLES BARCELONA', '2021-05-11', '2021-06-20', 'Entrega aproximada mediados de junio.', 1),
('00004', '28905', '43815', 'MAZO MUEBLES 2009', 'PACO MUEBLES TARRAGONA', '2021-06-13', '2021-06-19', 'Entrega en julio', 1),
('00005', '31588', '48011', 'PICANOVA SA', 'PACO MUEBLES BILBAO', '2021-04-30', '2021-06-13', '', 1);

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `PRODUCTOS`
--

CREATE TABLE IF NOT EXISTS `PRODUCTOS` (
  `ID_PRODUCTO` varchar(5) COLLATE utf8_bin NOT NULL,
  `NOMBRE_PRODUCTO` varchar(100) COLLATE utf8_bin NOT NULL,
  `ESTADO` tinyint(4) NOT NULL,
  PRIMARY KEY (`ID_PRODUCTO`),
  UNIQUE KEY `ID_PRODUCTO_UNIQUE` (`ID_PRODUCTO`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_bin;

--
-- Volcado de datos para la tabla `PRODUCTOS`
--

INSERT INTO `PRODUCTOS` (`ID_PRODUCTO`, `NOMBRE_PRODUCTO`, `ESTADO`) VALUES
('00001', 'MESILLA CAJONES MAGREBI CARMESI', 1),
('00002', 'SILLA TERRAZA MADERA CAOBA', 1),
('00003', 'CHAISE LONGUE GRIS/NEGRO', 1),
('00004', 'CHAISE LONGUE MARRON', 1),
('00005', 'CHAISE LONGUE AZUL OSCURO', 0),
('00006', 'CHAISE LONGUE AZAFRAN', 0),
('00008', 'SILLA THONET NO.14', 1),
('00009', 'PUFF PERA INDOOR ROSA', 0),
('00010', 'PUFF PERA INDOOR LIMA', 1),
('00011', 'PUFF PERA INDOOR AMARILLO', 1),
('00012', 'ESTANTERIA INFANTIL RATAN', 1),
('00013', 'GUARDARROPA REJILLA RATAN', 1),
('00014', 'LITERA CASITA INFANTIL', 1),
('00015', 'SILLON TERCIOPELO BEIGE', 1),
('00016', 'SILLON TERCIOPELO GRIS CLARO', 1),
('00017', 'SILLON VINTAGE BLANCO/NEGRO', 1),
('00018', 'SILLON VINTAGE GRIS CLARO', 1),
('00019', 'SILLON VINTAGE VERDE KAKI', 1),
('00020', 'SILLON VINTAGE CREMA', 1),
('00021', 'CAMA MATRIMONIO LAMPREA MADERA ROBLE', 1),
('00022', 'CAMA MATRIMONIO LAMPREA MADERA ABETO', 1),
('00023', 'CAMA INDIVIDUAL NINO DOBLE VINTAGE', 1);

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `PRODUCTOSxPEDIDOS`
--

CREATE TABLE IF NOT EXISTS `PRODUCTOSxPEDIDOS` (
  `ID_PRODUCTO` varchar(5) COLLATE utf8_bin NOT NULL,
  `ID_PEDIDO` varchar(5) COLLATE utf8_bin NOT NULL,
  `NOMBRE_PRODUCTO` varchar(100) COLLATE utf8_bin NOT NULL,
  `PRECIO_PRODUCTO` float DEFAULT NULL,
  `CANTIDAD` int(11) NOT NULL,
  `IVA` int(11) NOT NULL,
  `PRECIO` float NOT NULL,
  PRIMARY KEY (`ID_PRODUCTO`,`ID_PEDIDO`),
  KEY `fk_PRODUCTOS_has_PEDIDOS_PEDIDOS1_idx` (`ID_PEDIDO`),
  KEY `fk_PRODUCTOS_has_PEDIDOS_PRODUCTOS_idx` (`ID_PRODUCTO`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_bin;

--
-- Volcado de datos para la tabla `PRODUCTOSxPEDIDOS`
--

INSERT INTO `PRODUCTOSxPEDIDOS` (`ID_PRODUCTO`, `ID_PEDIDO`, `NOMBRE_PRODUCTO`, `PRECIO_PRODUCTO`, `CANTIDAD`, `IVA`, `PRECIO`) VALUES
('00001', '00001', 'MESILLA CAJONES MAGREBI CARMESI', 89.95, 15, 21, 1615.35),
('00002', '00001', 'SILLA TERRAZA MADERA CAOBA', 45.5, 50, 21, 2722.5),
('00003', '00002', 'CHAISE LONGUE GRIS/NEGRO', 649.99, 5, 21, 3926.45),
('00003', '00005', 'CHAISE LONGUE GRIS/NEGRO', 550.95, 5, 21, 3327.5),
('00004', '00002', 'CHAISE LONGUE MARRON', 639.99, 5, 21, 3865.95),
('00004', '00005', 'CHAISE LONGUE MARRON', 550.95, 5, 21, 3327.5),
('00005', '00002', 'CHAISE LONGUE AZUL OSCURO', 644.99, 8, 21, 6233.92),
('00006', '00002', 'CHAISE LONGUE AZAFRAN', 599.99, 2, 21, 1449.58),
('00008', '00001', 'SILLA THONET NO.14', 2050.25, 10, 21, 24805),
('00008', '00004', 'SILLA THONET NO.14', 999.99, 5, 21, 6043.95),
('00009', '00003', 'PUFF PERA INDOOR ROSA', 34.99, 5, 21, 205.7),
('00009', '00004', 'PUFF PERA INDOOR ROSA', 45.75, 10, 21, 544.5),
('00010', '00003', 'PUFF PERA INDOOR LIMA', 34.99, 5, 21, 205.7),
('00010', '00004', 'PUFF PERA INDOOR LIMA', 45.75, 10, 21, 544.5),
('00011', '00004', 'PUFF PERA INDOOR AMARILLO', 45.75, 10, 21, 544.5),
('00015', '00003', 'SILLON TERCIOPELO BEIGE', 68.95, 15, 21, 1234.2),
('00015', '00005', 'SILLON TERCIOPELO BEIGE', 149.99, 10, 21, 1802.9),
('00016', '00003', 'SILLON TERCIOPELO GRIS CLARO', 68.95, 15, 21, 1234.2),
('00016', '00005', 'SILLON TERCIOPELO GRIS CLARO', 149.99, 10, 21, 1802.9),
('00017', '00003', 'SILLON VINTAGE BLANCO/NEGRO', 64.95, 10, 21, 774.4),
('00019', '00003', 'SILLON VINTAGE VERDE KAKI', 59.95, 10, 21, 713.9),
('00021', '00001', 'CAMA MATRIMONIO LAMPREA MADERA ROBLE', 555.99, 5, 21, 3357.75);

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `PROVEEDORES`
--

CREATE TABLE IF NOT EXISTS `PROVEEDORES` (
  `ID_PROVEEDOR` varchar(5) COLLATE utf8_bin NOT NULL,
  `NOMBRE_PROVEEDOR` varchar(100) COLLATE utf8_bin NOT NULL,
  `NOMBRE_CONTACTO` varchar(50) COLLATE utf8_bin DEFAULT NULL,
  `PROVINCIA` varchar(100) COLLATE utf8_bin NOT NULL,
  `CIUDAD` varchar(100) COLLATE utf8_bin NOT NULL,
  `TELEFONO` varchar(20) COLLATE utf8_bin NOT NULL,
  `EMAIL` varchar(100) COLLATE utf8_bin NOT NULL,
  `ESTADO` tinyint(1) DEFAULT NULL,
  PRIMARY KEY (`ID_PROVEEDOR`),
  UNIQUE KEY `ID_PROVEEDORES_UNIQUE` (`ID_PROVEEDOR`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_bin;

--
-- Volcado de datos para la tabla `PROVEEDORES`
--

INSERT INTO `PROVEEDORES` (`ID_PROVEEDOR`, `NOMBRE_PROVEEDOR`, `NOMBRE_CONTACTO`, `PROVINCIA`, `CIUDAD`, `TELEFONO`, `EMAIL`, `ESTADO`) VALUES
('02008', 'ANTONIO PINO E HIJOS SL', 'ANTONIO PINO', 'CASTILLA LA MANCHA', 'ALBACETE', '967000129', 'mueblesantonio@gmail.com', 0),
('24010', 'LEON CARPINTEROS ', 'ALICIA ORNAIZ', 'CASTILLA Y LEON', 'BERNESGA', '979023910', 'leoncarpinteros@carpleon.es', 1),
('28905', 'MAZO MUEBLES 2009', 'BRAYAN PAREDES', 'MADRID', 'GETAFE', '910129302', 'mazomueblesgetafe@gmail.com', 1),
('28942', 'PIKOTRIN SL', 'DANIEL URQUIJO', 'MADRID', 'FUENLABRADA', '912382102', 'pikotrin@pikotrin.es', 1),
('30540', 'PORTAL MADERA ESP', '-', 'MURCIA', 'BLANCA', '968100222', 'maderaportal@outlook.es', 1),
('31588', 'PICANOVA SA', 'LUCIA LOPEZ', 'NAVARRA', 'LAZAGURRIA', '948120394', 'picanovanavarra@lazagnava.es', 1);

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `TIENDAS`
--

CREATE TABLE IF NOT EXISTS `TIENDAS` (
  `ID_TIENDA` varchar(5) COLLATE utf8_bin NOT NULL,
  `NOMBRE_TIENDA` varchar(100) COLLATE utf8_bin NOT NULL,
  `RESPONSABLE` varchar(45) COLLATE utf8_bin NOT NULL,
  `TELEFONO` varchar(20) COLLATE utf8_bin NOT NULL,
  `ESTADO` tinyint(4) DEFAULT NULL,
  PRIMARY KEY (`ID_TIENDA`),
  UNIQUE KEY `ID_TIENDA_UNIQUE` (`ID_TIENDA`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_bin;

--
-- Volcado de datos para la tabla `TIENDAS`
--

INSERT INTO `TIENDAS` (`ID_TIENDA`, `NOMBRE_TIENDA`, `RESPONSABLE`, `TELEFONO`, `ESTADO`) VALUES
('02006', 'PACO MUEBLES ALBACETE', 'JOSE MARIA MARTINEZ', '967011049', 0),
('08003', 'PACO MUEBLES BARCELONA', 'JORDI PRATS', '939302311', 1),
('27002', 'PACO MUEBLES GALICIA', 'MARIA JOSE MARIN', '981340007', 1),
('28223', 'PACO MUEBLES POZUELO', 'JAVIER GARRALON', '912432342', 1),
('28935', 'PACO MUEBLES MOSTOLES', 'MARTA GARCIA', '910083902', 0),
('43815', 'PACO MUEBLES TARRAGONA', 'EDWIN LOPES', '977922020', 1),
('48011', 'PACO MUEBLES BILBAO', 'GORKA EIZAGA', '947390055', 1);

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `USUARIOS`
--

CREATE TABLE IF NOT EXISTS `USUARIOS` (
  `USER` varchar(20) COLLATE utf8_spanish_ci NOT NULL,
  `PASSWORD` varchar(16) COLLATE utf8_spanish_ci NOT NULL,
  `PERMISSION` int(1) NOT NULL,
  PRIMARY KEY (`USER`),
  UNIQUE KEY `USER_UNIQUE` (`USER`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_spanish_ci;

--
-- Volcado de datos para la tabla `USUARIOS`
--

INSERT INTO `USUARIOS` (`USER`, `PASSWORD`, `PERMISSION`) VALUES
('administrador', '000000', 1),
('javier', 'javier', 0),
('pacoadmin', 'admin', 1),
('roberto', 'roberto', 0);

--
-- Restricciones para tablas volcadas
--

--
-- Filtros para la tabla `FACTURAS`
--
ALTER TABLE `FACTURAS`
  ADD CONSTRAINT `fk_FACTURAS_PRODUCTOS_has_PEDIDOS1` FOREIGN KEY (`ID_PEDIDO`) REFERENCES `PRODUCTOSxPEDIDOS` (`ID_PEDIDO`) ON DELETE NO ACTION ON UPDATE NO ACTION;

--
-- Filtros para la tabla `PEDIDOS`
--
ALTER TABLE `PEDIDOS`
  ADD CONSTRAINT `fk_PEDIDOS_PROVEEDORES1` FOREIGN KEY (`ID_PROVEEDOR`) REFERENCES `PROVEEDORES` (`ID_PROVEEDOR`) ON DELETE NO ACTION ON UPDATE NO ACTION,
  ADD CONSTRAINT `fk_PEDIDOS_TIENDAS1` FOREIGN KEY (`ID_TIENDA`) REFERENCES `TIENDAS` (`ID_TIENDA`) ON DELETE NO ACTION ON UPDATE NO ACTION;

--
-- Filtros para la tabla `PRODUCTOSxPEDIDOS`
--
ALTER TABLE `PRODUCTOSxPEDIDOS`
  ADD CONSTRAINT `fk_PRODUCTOS_has_PEDIDOS_PEDIDOS1` FOREIGN KEY (`ID_PEDIDO`) REFERENCES `PEDIDOS` (`ID_PEDIDO`) ON DELETE NO ACTION ON UPDATE NO ACTION,
  ADD CONSTRAINT `fk_PRODUCTOS_has_PEDIDOS_PRODUCTOS` FOREIGN KEY (`ID_PRODUCTO`) REFERENCES `PRODUCTOS` (`ID_PRODUCTO`) ON DELETE NO ACTION ON UPDATE NO ACTION;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
